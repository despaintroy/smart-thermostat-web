(this["webpackJsonpsmart-thermostat-web"]=this["webpackJsonpsmart-thermostat-web"]||[]).push([[0],{56:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t),n.d(t,"UserContext",(function(){return z}));n(56);var c=n(1),a=n.n(c),r=n(35),s=n.n(r),i=n(64),o=n(51),j=Object(i.a)({apiKey:"AIzaSyAEqiutxiK9K41-zYltwLMIxNjMZvAq014",authDomain:"smart-thermostat-92710.firebaseapp.com",projectId:"smart-thermostat-92710",storageBucket:"smart-thermostat-92710.appspot.com",messagingSenderId:"31001839536",appId:"1:31001839536:web:a4c255c21db37087f37875"}),l=Object(o.a)(j),d=n(43),u=function(e){return e?{id:e.uid,name:e.displayName,email:e.email,phone:e.phoneNumber}:null},b=n(61),h=n(92),O=n(47),x=n(46),m=function(){l.signOut()},p={dashboard:"/dashboard",schedule:"/schedule",settings:"/settings",signIn:"/signin"},g=n(5);var f=function(){return Object(g.jsx)(O.a,{collapseOnSelect:!0,expand:"md",bg:"primary",variant:"dark",className:"mb-4",children:Object(g.jsxs)(b.a,{children:[Object(g.jsx)(x.LinkContainer,{to:p.dashboard,children:Object(g.jsx)(O.a.Brand,{href:p.dashboard,children:"Smart Thermostat"})}),Object(g.jsx)(O.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(g.jsxs)(O.a.Collapse,{id:"responsive-navbar-nav",children:[Object(g.jsxs)(h.a,{className:"me-auto",children:[Object(g.jsx)(x.LinkContainer,{to:p.dashboard,children:Object(g.jsx)(h.a.Link,{children:"Dashboard"})}),Object(g.jsx)(x.LinkContainer,{to:p.schedule,children:Object(g.jsx)(h.a.Link,{children:"Schedule"})}),Object(g.jsx)(x.LinkContainer,{to:p.settings,children:Object(g.jsx)(h.a.Link,{children:"Settings"})})]}),Object(g.jsx)(h.a,{children:Object(g.jsx)(h.a.Link,{onClick:m,children:"Sign Out"})})]})]})})},v=n(36),C=n(14);var S=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Dashboard"}),Object(g.jsx)("p",{children:"This is the dashboard page"})]})};var y=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Schedule"}),Object(g.jsx)("p",{children:"This is the schedule page"})]})},k=n(42),L=n(15),w=n(91),I=n(69),N=n(89),T=n(90),P=["buttonText","showLoading","onClick"];var A=function(e){var t=e.buttonText,n=e.showLoading,c=e.onClick,a=Object(I.a)(e,P);return Object(g.jsx)(N.a,Object(k.a)(Object(k.a)({disabled:n,onClick:c},a),{},{children:n?Object(g.jsx)(T.a,{animation:"border",as:"span",size:"sm"}):t}))};var F=function(){var e=Object(c.useState)(Object(c.useContext)(z)),t=Object(L.a)(e,2),n=t[0],a=t[1],r=Object(c.useRef)(null),s=Object(c.useRef)(null),i=Object(c.useState)(0),o=Object(L.a)(i,2),j=o[0],u=o[1],b=Object(c.useState)(!1),h=Object(L.a)(b,2),O=h[0],x=h[1],m=function(){var e,t;return x((null===(e=r.current)||void 0===e?void 0:e.value)!==n.name||(null===(t=s.current)||void 0===t?void 0:t.value)!==n.email)};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Settings"}),Object(g.jsx)("h3",{children:"Account"}),Object(g.jsxs)(w.a,{onSubmit:function(e){var t,n;e.preventDefault();var c,i,o=null===(t=r.current)||void 0===t?void 0:t.value,j=null===(n=s.current)||void 0===n?void 0:n.value;o&&(u((function(e){return++e})),(c=o,l.currentUser?Object(d.d)(l.currentUser,{displayName:c}):Promise.reject()).then((function(){return a((function(e){return e.name=o,Object(k.a)({},e)}))})).catch((function(e){return console.error(e)})).finally((function(){return u((function(e){return--e}))}))),j&&(u((function(e){return++e})),(i=j,l.currentUser?Object(d.c)(l.currentUser,i):Promise.reject()).then((function(){return a((function(e){return e.email=j,Object(k.a)({},e)}))})).catch((function(e){return console.error(e.message)})).finally((function(){return u((function(e){return--e}))})))},children:[Object(g.jsxs)(w.a.Group,{children:[Object(g.jsx)(w.a.Label,{children:"Name"}),Object(g.jsx)(w.a.Control,{ref:r,type:"text",defaultValue:n.name||"",onChange:m})]}),Object(g.jsxs)(w.a.Group,{children:[Object(g.jsx)(w.a.Label,{children:"Email"}),Object(g.jsx)(w.a.Control,{ref:s,type:"email",defaultValue:n.email||"",onChange:m}),Object(g.jsx)(w.a.Text,{children:"This email used for account sign in"})]}),Object(g.jsx)(A,{className:"mt-3 w-100",buttonText:"Save Changes",showLoading:j>0,disabled:!O,type:"submit"})]})]})};var U=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(v.HashRouter,{basename:"/",children:[Object(g.jsx)(f,{}),Object(g.jsx)(C.g,{children:Object(g.jsxs)(b.a,{children:[Object(g.jsx)(C.d,{exact:!0,path:p.dashboard,component:S}),Object(g.jsx)(C.d,{exact:!0,path:p.schedule,component:y}),Object(g.jsx)(C.d,{exact:!0,path:p.settings,component:F}),Object(g.jsx)(C.c,{push:!0,to:p.dashboard})]})})]})})},B=(n(86),n(94)),D=n(93);function E(){var e=Object(c.useState)(""),t=Object(L.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(L.a)(r,2),i=s[0],j=s[1],d=Object(c.useState)(),u=Object(L.a)(d,2),b=u[0],h=u[1],O=Object(c.useState)(!1),x=Object(L.a)(O,2),m=x[0],p=x[1];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(B.a,{className:"signin-card shadow mx-auto",children:[Object(g.jsx)(B.a.Header,{children:"Sign In"}),Object(g.jsx)(B.a.Body,{children:Object(g.jsxs)(w.a,{onSubmit:function(e){e.preventDefault(),h(""),n&&i?(p(!0),function(e,t){return Object(o.b)(l,e,t).then((function(){return Promise.resolve()})).catch((function(e){return console.log("Error Signing In"),console.log(e.code),console.log(e.message),Promise.reject()}))}(n,i).catch((function(){p(!1),h("Could not sign in")}))):h("Please enter all required fields")},children:[Object(g.jsxs)(w.a.Group,{children:[Object(g.jsx)(w.a.Label,{children:"Username"}),Object(g.jsx)(w.a.Control,{type:"text",onChange:function(e){return a(e.target.value)},isInvalid:!1}),Object(g.jsx)(w.a.Control.Feedback,{type:"invalid"})]}),Object(g.jsxs)(w.a.Group,{children:[Object(g.jsx)(w.a.Label,{children:"Password"}),Object(g.jsx)(w.a.Control,{type:"password",onChange:function(e){return j(e.target.value)},isInvalid:!1}),Object(g.jsx)(w.a.Control.Feedback,{type:"invalid"})]}),b&&Object(g.jsx)(D.a,{variant:"secondary",className:"mt-3",children:b}),Object(g.jsx)(A,{type:"submit",className:"mt-3 w-100",buttonText:"Sign In",showLoading:m})]})})]})})}var z,G=function(){return Object(g.jsx)("div",{className:"app-unauthorized",children:Object(g.jsx)(b.a,{children:Object(g.jsx)(v.HashRouter,{basename:"/",children:Object(g.jsx)(C.g,{children:Object(g.jsxs)(b.a,{children:[Object(g.jsx)(C.d,{exact:!0,path:p.signIn,component:E}),Object(g.jsx)(C.c,{push:!0,to:p.signIn})]})})})})})};l.onAuthStateChanged((function(e){var t=u(e);z=a.a.createContext(t),t?s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(z.Provider,{value:t,children:Object(g.jsx)(U,{})})}),document.getElementById("root")):s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(G,{})}),document.getElementById("root"))}))}},[[87,1,2]]]);
//# sourceMappingURL=main.4a6bde62.chunk.js.map