{"version":3,"sources":["ts/services/firebase.ts","ts/services/user.ts","ts/services/auth.ts","ts/utils/paths.ts","Navigation.tsx","ts/containers/Dashboard/Dashboard.tsx","ts/containers/Dashboard/index.js","ts/containers/Schedule/Schedule.tsx","ts/containers/Schedule/index.js","ts/components/LoadingButton.tsx","ts/containers/Settings/Settings.tsx","App.tsx","ts/containers/Signin.tsx","AppUnauthorized.tsx","index.tsx"],"names":["firebaseApp","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","formatUser","user","id","uid","name","displayName","email","phone","phoneNumber","signOut","Paths","dashboard","schedule","settings","signIn","Navigation","Navbar","collapseOnSelect","expand","bg","variant","className","Container","to","Brand","href","Toggle","Collapse","Nav","Link","onClick","Dashboard","Schedule","LoadingButton","props","buttonText","showLoading","others","Button","disabled","Spinner","animation","as","size","Settings","useState","useContext","UserContext","setUser","nameField","useRef","emailField","updateLock","setUpdateLock","hasChanged","setHasChanged","changed","current","value","Form","onSubmit","e","preventDefault","newName","newEmail","lock","currentUser","updateProfile","Promise","reject","then","catch","console","error","finally","updateFireEmail","message","Group","Label","Control","ref","type","defaultValue","onChange","Text","App","basename","exact","path","component","push","SignIn","setEmail","password","setPassword","errorText","setErrorText","isLoading","setIsLoading","Card","Header","Body","signInWithEmailAndPassword","resolve","log","code","target","isInvalid","Feedback","Alert","AppUnauthorized","onAuthStateChanged","fireUser","React","createContext","ReactDOM","render","StrictMode","Provider","document","getElementById"],"mappings":"2RAgBMA,EAAcC,YAVG,CACtBC,OAAQC,0CACRC,WAAYD,yCACZE,UAAWF,yBACXG,cAAeH,qCACfI,kBAAmBJ,cACnBK,MAAOL,6CAKKM,EAAOC,YAAQV,G,QCRfW,EAAa,SAACC,GAC1B,OAAIA,EACI,CACNC,GAAID,EAAKE,IACTC,KAAMH,EAAKI,YACXC,MAAOL,EAAKK,MACZC,MAAON,EAAKO,aAEF,M,gCCAAC,EAAU,WACtBX,EAAKW,WCXSC,EAPD,CACbC,UAAW,aACXC,SAAU,YACVC,SAAU,YACVC,OAAQ,W,OCyCMC,MAnCf,WACC,OACC,cAACC,EAAA,EAAD,CACCC,kBAAgB,EAChBC,OAAO,KACPC,GAAG,UACHC,QAAQ,OACRC,UAAU,OALX,SAOC,eAACC,EAAA,EAAD,WACC,cAAC,gBAAD,CAAeC,GAAIb,EAAMC,UAAzB,SACC,cAACK,EAAA,EAAOQ,MAAR,CAAcC,KAAMf,EAAMC,UAA1B,gCAED,cAACK,EAAA,EAAOU,OAAR,CAAe,gBAAc,0BAC7B,eAACV,EAAA,EAAOW,SAAR,CAAiBzB,GAAG,wBAApB,UACC,eAAC0B,EAAA,EAAD,CAAKP,UAAU,UAAf,UACC,cAAC,gBAAD,CAAeE,GAAIb,EAAMC,UAAzB,SACC,cAACiB,EAAA,EAAIC,KAAL,0BAED,cAAC,gBAAD,CAAeN,GAAIb,EAAME,SAAzB,SACC,cAACgB,EAAA,EAAIC,KAAL,yBAED,cAAC,gBAAD,CAAeN,GAAIb,EAAMG,SAAzB,SACC,cAACe,EAAA,EAAIC,KAAL,4BAGF,cAACD,EAAA,EAAD,UACC,cAACA,EAAA,EAAIC,KAAL,CAAUC,QAASrB,EAAnB,iC,gBC1BSsB,ICTAA,EDAf,WACC,OACC,qCACC,2CACA,+DEKYC,ICTAA,EDAf,WACC,OACC,qCACC,0CACA,8D,yFEkBYC,MAdf,SAAuBC,GACtB,IAAQC,EAAgDD,EAAhDC,WAAYC,EAAoCF,EAApCE,YAAaN,EAAuBI,EAAvBJ,QAAYO,EAA7C,YAAwDH,EAAxD,GAEA,OACC,cAACI,EAAA,EAAD,yBAAQC,SAAUH,EAAaN,QAASA,GAAaO,GAArD,aACED,EACA,cAACI,EAAA,EAAD,CAASC,UAAU,SAASC,GAAG,OAAOC,KAAK,OAE3CR,MCwEWS,MAnFf,WACC,MAAwBC,mBAASC,qBAAWC,IAA5C,mBAAO9C,EAAP,KAAa+C,EAAb,KACMC,EAAYC,iBAAyB,MACrCC,EAAaD,iBAAyB,MAE5C,EAAoCL,mBAAiB,GAArD,mBAAOO,EAAP,KAAmBC,EAAnB,KACA,EAAoCR,oBAAS,GAA7C,mBAAOS,EAAP,KAAmBC,EAAnB,KAEMC,EAAU,0BACfD,GACC,UAAAN,EAAUQ,eAAV,eAAmBC,SAAUzD,EAAKG,OACjC,UAAA+C,EAAWM,eAAX,eAAoBC,SAAUzD,EAAKK,QAoCtC,OACC,qCACC,0CACA,yCACA,eAACqD,EAAA,EAAD,CAAMC,SArCO,SAACC,GAAyC,IAAD,IACvDA,EAAEC,iBAEF,ITMyB1D,EAMCE,ESZpByD,EAAO,UAAGd,EAAUQ,eAAb,aAAG,EAAmBC,MAC7BM,EAAQ,UAAGb,EAAWM,eAAd,aAAG,EAAoBC,MAEjCK,IACHV,GAAc,SAAAY,GAAI,QAAMA,MTEA7D,ESDb2D,ETETjE,EAAKoE,YACDC,YAAcrE,EAAKoE,YAAa,CAAE7D,YAAaD,IAChDgE,QAAQC,USHXC,MAAK,kBACLtB,GAAQ,SAAA/C,GAEP,OADAA,EAAKG,KAAO2D,EACL,eAAK9D,SAGbsE,OAAM,SAAAV,GAAC,OAAIW,QAAQC,MAAMZ,MACzBa,SAAQ,kBAAMrB,GAAc,SAAAY,GAAI,QAAMA,SAGrCD,IACHX,GAAc,SAAAY,GAAI,QAAMA,MTLC3D,ESMb0D,ETLVlE,EAAKoE,YAAoBS,YAAgB7E,EAAKoE,YAAa5D,GACxD8D,QAAQC,USKXC,MAAK,kBACLtB,GAAQ,SAAA/C,GAEP,OADAA,EAAKK,MAAQ0D,EACN,eAAK/D,SAGbsE,OAAM,SAAAV,GAAC,OAAIW,QAAQC,MAAMZ,EAAEe,YAC3BF,SAAQ,kBAAMrB,GAAc,SAAAY,GAAI,QAAMA,UAQxC,UACC,eAACN,EAAA,EAAKkB,MAAN,WACC,cAAClB,EAAA,EAAKmB,MAAN,mBACA,cAACnB,EAAA,EAAKoB,QAAN,CACCC,IAAK/B,EACLgC,KAAK,OACLC,aAAcjF,EAAKG,MAAQ,GAC3B+E,SAAU3B,OAGZ,eAACG,EAAA,EAAKkB,MAAN,WACC,cAAClB,EAAA,EAAKmB,MAAN,oBACA,cAACnB,EAAA,EAAKoB,QAAN,CACCC,IAAK7B,EACL8B,KAAK,QACLC,aAAcjF,EAAKK,OAAS,GAC5B6E,SAAU3B,IAEX,cAACG,EAAA,EAAKyB,KAAN,qDAED,cAAC,EAAD,CACC/D,UAAU,aACVc,WAAW,eACXC,YAAagB,EAAa,EAC1Bb,UAAWe,EACX2B,KAAK,kBCnDKI,MApBf,WACC,OACC,qBAAKhE,UAAU,MAAf,SACC,eAAC,aAAD,CAAYiE,SAAS,IAArB,UACC,cAAC,EAAD,IACA,cAAC,IAAD,UACC,eAAChE,EAAA,EAAD,WACC,cAAC,IAAD,CAAOiE,OAAK,EAACC,KAAM9E,EAAMC,UAAW8E,UAAW1D,IAC/C,cAAC,IAAD,CAAOwD,OAAK,EAACC,KAAM9E,EAAME,SAAU6E,UAAWzD,IAC9C,cAAC,IAAD,CAAOuD,OAAK,EAACC,KAAM9E,EAAMG,SAAU4E,UAAW7C,IAG9C,cAAC,IAAD,CAAU8C,MAAI,EAACnE,GAAIb,EAAMC,uB,wBClBhB,SAASgF,IACvB,MAA0B9C,mBAAS,IAAnC,mBAAOvC,EAAP,KAAcsF,EAAd,KACA,EAAgC/C,mBAAS,IAAzC,mBAAOgD,EAAP,KAAiBC,EAAjB,KACA,EAAkCjD,qBAAlC,mBAAOkD,EAAP,KAAkBC,EAAlB,KACA,EAAkCnD,oBAAS,GAA3C,mBAAOoD,EAAP,KAAkBC,EAAlB,KAgBA,OACC,mCACC,eAACC,EAAA,EAAD,CAAM9E,UAAU,6BAAhB,UACC,cAAC8E,EAAA,EAAKC,OAAN,sBACA,cAACD,EAAA,EAAKE,KAAN,UAEC,eAAC1C,EAAA,EAAD,CAAMC,SApBK,SAACC,GACfA,EAAEC,iBACFkC,EAAa,IAER1F,GAAUuF,GAEdK,GAAa,GVdM,SAAC5F,EAAeuF,GACrC,OAAOS,YAA2BxG,EAAMQ,EAAOuF,GAC7CvB,MAAK,WACL,OAAOF,QAAQmC,aAEfhC,OAAM,SAAAE,GAIN,OAHAD,QAAQgC,IAAI,oBACZhC,QAAQgC,IAAI/B,EAAMgC,MAClBjC,QAAQgC,IAAI/B,EAAMG,SACXR,QAAQC,YUMfvD,CAAOR,EAAOuF,GAAUtB,OAAM,WAC7B2B,GAAa,GACbF,EAAa,yBALUA,EAAa,qCAgBnC,UACC,eAACrC,EAAA,EAAKkB,MAAN,WACC,cAAClB,EAAA,EAAKmB,MAAN,uBACA,cAACnB,EAAA,EAAKoB,QAAN,CACCE,KAAK,OACLE,SAAU,SAACtB,GAAD,OAAa+B,EAAS/B,EAAE6C,OAAOhD,QACzCiD,WAAW,IAEZ,cAAChD,EAAA,EAAKoB,QAAQ6B,SAAd,CAAuB3B,KAAK,eAI7B,eAACtB,EAAA,EAAKkB,MAAN,WACC,cAAClB,EAAA,EAAKmB,MAAN,uBACA,cAACnB,EAAA,EAAKoB,QAAN,CACCE,KAAK,WACLE,SAAU,SAACtB,GAAD,OAAaiC,EAAYjC,EAAE6C,OAAOhD,QAC5CiD,WAAW,IAEZ,cAAChD,EAAA,EAAKoB,QAAQ6B,SAAd,CAAuB3B,KAAK,eAI5Bc,GACA,cAACc,EAAA,EAAD,CAAOzF,QAAQ,YAAYC,UAAU,OAArC,SACE0E,IAGH,cAAC,EAAD,CACCd,KAAK,SACL5D,UAAU,aACVc,WAAW,UACXC,YAAa6D,cCpCLa,IChBJ/D,EDgBI+D,EAnBf,WACC,OACC,qBAAKzF,UAAU,mBAAf,SACC,cAACC,EAAA,EAAD,UACC,cAAC,aAAD,CAAYgE,SAAS,IAArB,SACC,cAAC,IAAD,UACC,eAAChE,EAAA,EAAD,WACC,cAAC,IAAD,CAAOiE,OAAK,EAACC,KAAM9E,EAAMI,OAAQ2E,UAAWE,IAG5C,cAAC,IAAD,CAAUD,MAAI,EAACnE,GAAIb,EAAMI,qBCLhChB,EAAKiH,oBAAmB,SAAAC,GACvB,IAAM/G,EAAOD,EAAWgH,GACxBjE,EAAckE,IAAMC,cAAcjH,GAE9BA,EACHkH,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAACtE,EAAYuE,SAAb,CAAsB5D,MAAOzD,EAA7B,SACC,cAAC,EAAD,QAGFsH,SAASC,eAAe,SAGzBL,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,EAAD,MAEDE,SAASC,eAAe,c","file":"static/js/main.4a6bde62.chunk.js","sourcesContent":["import { initializeApp } from 'firebase/app'\nimport { getAuth } from 'firebase/auth'\n\n// These keys will be exposed on the client frontend, but this is safe\n// Security is enforced through Firebase security rules\n// See more: https://stackoverflow.com/questions/37482366/is-it-safe-to-expose-firebase-apikey-to-the-public/\nconst firebaseConfig = {\n\tapiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n\tauthDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n\tprojectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n\tstorageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n\tmessagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n\tappId: process.env.REACT_APP_FIREBASE_APP_ID,\n}\n\n// Initialize Firebase\nconst firebaseApp = initializeApp(firebaseConfig)\nexport const auth = getAuth(firebaseApp)\n","import {\n\tupdateEmail as updateFireEmail,\n\tupdateProfile,\n\tUser as FireUser,\n} from '@firebase/auth'\n\nimport { auth } from './firebase'\nimport { User } from './models'\n\nexport const formatUser = (user: FireUser | null): User | null => {\n\tif (user)\n\t\treturn {\n\t\t\tid: user.uid,\n\t\t\tname: user.displayName,\n\t\t\temail: user.email,\n\t\t\tphone: user.phoneNumber,\n\t\t}\n\telse return null\n}\n\n// --------------------------------------------------\n//   GET\n// --------------------------------------------------\n\nexport const getUser = (): User | null => formatUser(auth.currentUser)\n\n// --------------------------------------------------\n//   PATCH\n// --------------------------------------------------\n\nexport const updateName = (name: string): Promise<void> => {\n\tif (auth.currentUser)\n\t\treturn updateProfile(auth.currentUser, { displayName: name })\n\treturn Promise.reject()\n}\n\nexport const updateEmail = (email: string): Promise<void> => {\n\tif (auth.currentUser) return updateFireEmail(auth.currentUser, email)\n\treturn Promise.reject()\n}\n","import { signInWithEmailAndPassword } from 'firebase/auth'\n\nimport { auth } from './firebase'\n\nexport const signIn = (email: string, password: string): Promise<void> => {\n\treturn signInWithEmailAndPassword(auth, email, password)\n\t\t.then(() => {\n\t\t\treturn Promise.resolve()\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.log('Error Signing In')\n\t\t\tconsole.log(error.code)\n\t\t\tconsole.log(error.message)\n\t\t\treturn Promise.reject()\n\t\t})\n}\n\nexport const signOut = (): void => {\n\tauth.signOut()\n}\n","const Paths = {\n\tdashboard: '/dashboard',\n\tschedule: '/schedule',\n\tsettings: '/settings',\n\tsignIn: '/signin',\n}\n\nexport default Paths\n","import 'scss/global.scss'\n\nimport React from 'react'\n\nimport { Container, Nav } from 'react-bootstrap'\nimport Navbar from 'react-bootstrap/Navbar'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { signOut } from 'ts/services/auth'\nimport Paths from 'ts/utils/paths'\n\nfunction Navigation(): React.ReactElement {\n\treturn (\n\t\t<Navbar\n\t\t\tcollapseOnSelect\n\t\t\texpand='md'\n\t\t\tbg='primary'\n\t\t\tvariant='dark'\n\t\t\tclassName='mb-4'\n\t\t>\n\t\t\t<Container>\n\t\t\t\t<LinkContainer to={Paths.dashboard}>\n\t\t\t\t\t<Navbar.Brand href={Paths.dashboard}>Smart Thermostat</Navbar.Brand>\n\t\t\t\t</LinkContainer>\n\t\t\t\t<Navbar.Toggle aria-controls='responsive-navbar-nav' />\n\t\t\t\t<Navbar.Collapse id='responsive-navbar-nav'>\n\t\t\t\t\t<Nav className='me-auto'>\n\t\t\t\t\t\t<LinkContainer to={Paths.dashboard}>\n\t\t\t\t\t\t\t<Nav.Link>Dashboard</Nav.Link>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to={Paths.schedule}>\n\t\t\t\t\t\t\t<Nav.Link>Schedule</Nav.Link>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to={Paths.settings}>\n\t\t\t\t\t\t\t<Nav.Link>Settings</Nav.Link>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</Nav>\n\t\t\t\t\t<Nav>\n\t\t\t\t\t\t<Nav.Link onClick={signOut}>Sign Out</Nav.Link>\n\t\t\t\t\t</Nav>\n\t\t\t\t</Navbar.Collapse>\n\t\t\t</Container>\n\t\t</Navbar>\n\t)\n}\n\nexport default Navigation\n","import React from 'react'\n\nfunction Dashboard(): React.ReactElement {\n\treturn (\n\t\t<>\n\t\t\t<h1>Dashboard</h1>\n\t\t\t<p>This is the dashboard page</p>\n\t\t</>\n\t)\n}\n\nexport default Dashboard\n","import Dashboard from './Dashboard'\n\nexport default Dashboard\n","import React from 'react'\n\nfunction Schedule(): React.ReactElement {\n\treturn (\n\t\t<>\n\t\t\t<h1>Schedule</h1>\n\t\t\t<p>This is the schedule page</p>\n\t\t</>\n\t)\n}\n\nexport default Schedule\n","import Schedule from './Schedule'\n\nexport default Schedule\n","import React from 'react'\n\nimport { Button, ButtonProps, Spinner } from 'react-bootstrap'\n\ninterface LoadingButtonProps extends ButtonProps {\n\tbuttonText: string\n\tshowLoading: boolean\n\tonClick?: () => void\n}\n\nfunction LoadingButton(props: LoadingButtonProps): React.ReactElement {\n\tconst { buttonText, showLoading, onClick, ...others } = props\n\n\treturn (\n\t\t<Button disabled={showLoading} onClick={onClick} {...others}>\n\t\t\t{showLoading ? (\n\t\t\t\t<Spinner animation='border' as='span' size='sm' />\n\t\t\t) : (\n\t\t\t\tbuttonText\n\t\t\t)}\n\t\t</Button>\n\t)\n}\n\nexport default LoadingButton\n","import React, { FormEvent, useContext, useRef, useState } from 'react'\n\nimport { UserContext } from 'index'\nimport { Form } from 'react-bootstrap'\nimport LoadingButton from 'ts/components/LoadingButton'\nimport { updateEmail, updateName } from 'ts/services/user'\n\nfunction Settings(): React.ReactElement {\n\tconst [user, setUser] = useState(useContext(UserContext))\n\tconst nameField = useRef<HTMLInputElement>(null)\n\tconst emailField = useRef<HTMLInputElement>(null)\n\n\tconst [updateLock, setUpdateLock] = useState<number>(0)\n\tconst [hasChanged, setHasChanged] = useState(false)\n\n\tconst changed = (): void =>\n\t\tsetHasChanged(\n\t\t\tnameField.current?.value !== user.name ||\n\t\t\t\temailField.current?.value !== user.email\n\t\t)\n\n\tconst submit = (e: FormEvent<HTMLFormElement>): void => {\n\t\te.preventDefault()\n\n\t\tconst newName = nameField.current?.value\n\t\tconst newEmail = emailField.current?.value\n\n\t\tif (newName) {\n\t\t\tsetUpdateLock(lock => ++lock)\n\t\t\tupdateName(newName)\n\t\t\t\t.then(() =>\n\t\t\t\t\tsetUser(user => {\n\t\t\t\t\t\tuser.name = newName\n\t\t\t\t\t\treturn { ...user }\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.catch(e => console.error(e))\n\t\t\t\t.finally(() => setUpdateLock(lock => --lock))\n\t\t}\n\n\t\tif (newEmail) {\n\t\t\tsetUpdateLock(lock => ++lock)\n\t\t\tupdateEmail(newEmail)\n\t\t\t\t.then(() =>\n\t\t\t\t\tsetUser(user => {\n\t\t\t\t\t\tuser.email = newEmail\n\t\t\t\t\t\treturn { ...user }\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.catch(e => console.error(e.message))\n\t\t\t\t.finally(() => setUpdateLock(lock => --lock))\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<h1>Settings</h1>\n\t\t\t<h3>Account</h3>\n\t\t\t<Form onSubmit={submit}>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Label>Name</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tref={nameField}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tdefaultValue={user.name || ''}\n\t\t\t\t\t\tonChange={changed}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Label>Email</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tref={emailField}\n\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\tdefaultValue={user.email || ''}\n\t\t\t\t\t\tonChange={changed}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Text>This email used for account sign in</Form.Text>\n\t\t\t\t</Form.Group>\n\t\t\t\t<LoadingButton\n\t\t\t\t\tclassName='mt-3 w-100'\n\t\t\t\t\tbuttonText='Save Changes'\n\t\t\t\t\tshowLoading={updateLock > 0}\n\t\t\t\t\tdisabled={!hasChanged}\n\t\t\t\t\ttype='submit'\n\t\t\t\t/>\n\t\t\t</Form>\n\t\t</>\n\t)\n}\n\nexport default Settings\n","import 'scss/global.scss'\n\nimport React from 'react'\n\nimport Navigation from 'Navigation'\nimport { Container } from 'react-bootstrap'\nimport { HashRouter, Redirect, Route, Switch } from 'react-router-dom'\nimport Dashboard from 'ts/containers/Dashboard'\nimport Schedule from 'ts/containers/Schedule'\nimport Settings from 'ts/containers/Settings/Settings'\nimport Paths from 'ts/utils/paths'\n\nfunction App(): React.ReactElement {\n\treturn (\n\t\t<div className='App'>\n\t\t\t<HashRouter basename='/'>\n\t\t\t\t<Navigation />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<Route exact path={Paths.dashboard} component={Dashboard} />\n\t\t\t\t\t\t<Route exact path={Paths.schedule} component={Schedule} />\n\t\t\t\t\t\t<Route exact path={Paths.settings} component={Settings} />\n\n\t\t\t\t\t\t{/* Default redirect */}\n\t\t\t\t\t\t<Redirect push to={Paths.dashboard} />\n\t\t\t\t\t</Container>\n\t\t\t\t</Switch>\n\t\t\t</HashRouter>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React, { FormEvent, useState } from 'react'\n\nimport { Alert, Card, Form } from 'react-bootstrap'\nimport LoadingButton from 'ts/components/LoadingButton'\nimport { signIn } from 'ts/services/auth'\n\nexport default function SignIn(): React.ReactElement {\n\tconst [email, setEmail] = useState('')\n\tconst [password, setPassword] = useState('')\n\tconst [errorText, setErrorText] = useState<string>()\n\tconst [isLoading, setIsLoading] = useState(false)\n\n\tconst submit = (e: FormEvent<HTMLFormElement>): void => {\n\t\te.preventDefault()\n\t\tsetErrorText('')\n\n\t\tif (!email || !password) setErrorText('Please enter all required fields')\n\t\telse {\n\t\t\tsetIsLoading(true)\n\t\t\tsignIn(email, password).catch(() => {\n\t\t\t\tsetIsLoading(false)\n\t\t\t\tsetErrorText('Could not sign in')\n\t\t\t})\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Card className='signin-card shadow mx-auto'>\n\t\t\t\t<Card.Header>Sign In</Card.Header>\n\t\t\t\t<Card.Body>\n\t\t\t\t\t{/* <img src={process.env.PUBLIC_URL + '/logo-primary.png'} /> */}\n\t\t\t\t\t<Form onSubmit={submit}>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>Username</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tonChange={(e): void => setEmail(e.target.value)}\n\t\t\t\t\t\t\t\tisInvalid={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Control.Feedback type='invalid'>\n\t\t\t\t\t\t\t\t{/* {feedback.username} */}\n\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tonChange={(e): void => setPassword(e.target.value)}\n\t\t\t\t\t\t\t\tisInvalid={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Control.Feedback type='invalid'>\n\t\t\t\t\t\t\t\t{/* {feedback.password} */}\n\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t{errorText && (\n\t\t\t\t\t\t\t<Alert variant='secondary' className='mt-3'>\n\t\t\t\t\t\t\t\t{errorText}\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\tclassName='mt-3 w-100'\n\t\t\t\t\t\t\tbuttonText='Sign In'\n\t\t\t\t\t\t\tshowLoading={isLoading}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t</>\n\t)\n}\n","import 'scss/unauthorized.scss'\n\nimport React from 'react'\n\nimport Container from 'react-bootstrap/Container'\nimport { HashRouter, Redirect, Route, Switch } from 'react-router-dom'\nimport SignIn from 'ts/containers/Signin'\nimport Paths from 'ts/utils/paths'\n\nfunction AppUnauthorized(): React.ReactElement {\n\treturn (\n\t\t<div className='app-unauthorized'>\n\t\t\t<Container>\n\t\t\t\t<HashRouter basename='/'>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Container>\n\t\t\t\t\t\t\t<Route exact path={Paths.signIn} component={SignIn} />\n\n\t\t\t\t\t\t\t{/* Default redirect */}\n\t\t\t\t\t\t\t<Redirect push to={Paths.signIn} />\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Switch>\n\t\t\t\t</HashRouter>\n\t\t\t</Container>\n\t\t</div>\n\t)\n}\n\nexport default AppUnauthorized\n","import 'scss/global.scss'\n\nimport React, { Context } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { auth } from 'ts/services/firebase'\nimport { User } from 'ts/services/models'\nimport { formatUser } from 'ts/services/user'\n\nimport App from './App'\nimport AppUnauthorized from './AppUnauthorized'\n\nexport let UserContext: Context<User>\n\nauth.onAuthStateChanged(fireUser => {\n\tconst user = formatUser(fireUser) as User\n\tUserContext = React.createContext(user)\n\n\tif (user) {\n\t\tReactDOM.render(\n\t\t\t<React.StrictMode>\n\t\t\t\t<UserContext.Provider value={user}>\n\t\t\t\t\t<App />\n\t\t\t\t</UserContext.Provider>\n\t\t\t</React.StrictMode>,\n\t\t\tdocument.getElementById('root')\n\t\t)\n\t} else {\n\t\tReactDOM.render(\n\t\t\t<React.StrictMode>\n\t\t\t\t<AppUnauthorized />\n\t\t\t</React.StrictMode>,\n\t\t\tdocument.getElementById('root')\n\t\t)\n\t}\n})\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals()\n"],"sourceRoot":""}