(this["webpackJsonpsmart-thermostat-web"]=this["webpackJsonpsmart-thermostat-web"]||[]).push([[0],{57:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);a(57);var c=a(1),n=a.n(c),s=a(38),r=a.n(s),i=a(65),j=a(52),d=Object(i.a)({apiKey:"AIzaSyAEqiutxiK9K41-zYltwLMIxNjMZvAq014",authDomain:"smart-thermostat-92710.firebaseapp.com",projectId:"smart-thermostat-92710",storageBucket:"smart-thermostat-92710.appspot.com",messagingSenderId:"31001839536",appId:"1:31001839536:web:a4c255c21db37087f37875"}),l=Object(j.a)(d),o=a(32),u=function(e){return e?{id:e.uid,name:e.displayName,email:e.email,phone:e.phoneNumber}:null},b=a(12),h=a(62),O=a(94),x=a(49),m=a(48),v={dashboard:"/dashboard",schedule:"/schedule",settings:"/settings",signIn:"/signin"},p=a(4);var f=function(){return Object(p.jsx)(x.a,{collapseOnSelect:!0,expand:"md",bg:"primary",variant:"dark",className:"mb-4",children:Object(p.jsxs)(h.a,{children:[Object(p.jsx)(m.LinkContainer,{to:v.dashboard,children:Object(p.jsx)(x.a.Brand,{href:v.dashboard,children:"Smart Thermostat"})}),Object(p.jsx)(x.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(p.jsx)(x.a.Collapse,{id:"responsive-navbar-nav",children:Object(p.jsxs)(O.a,{className:"me-auto",children:[Object(p.jsx)(m.LinkContainer,{to:v.dashboard,children:Object(p.jsx)(O.a.Link,{children:"Dashboard"})}),Object(p.jsx)(m.LinkContainer,{to:v.schedule,children:Object(p.jsx)(O.a.Link,{children:"Schedule"})}),Object(p.jsx)(m.LinkContainer,{to:v.settings,children:Object(p.jsx)(O.a.Link,{children:"Settings"})})]})})]})})},g=a(39),N=a(15);var w=function(e){var t=e.children;return Object(p.jsx)("div",{className:"dial dial-circle",children:Object(p.jsx)("div",{className:"circle__inner",children:Object(p.jsx)("div",{className:"circle__wrapper",children:Object(p.jsx)("div",{className:"circle__content",children:t})})})})};var S=function(){var e=Object(c.useState)(72),t=Object(b.a)(e,2),a=t[0],n=t[1],s=65,r="6:00pm";return Object(p.jsx)(w,{children:Object(p.jsxs)("div",{className:"dial-stack",children:[Object(p.jsx)("div",{className:"adjust-button up",onClick:function(){return n((function(e){return++e}))},children:"\u2191"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"text-secondary",children:"SET TO"}),Object(p.jsxs)("div",{className:"set-temp",children:[a,"\xba"]}),Object(p.jsxs)("div",{className:"text-muted mt-3",children:["Scheduled change to ",s,"\xba",Object(p.jsx)("br",{}),"at ",r]})]}),Object(p.jsx)("div",{className:"adjust-button down",onClick:function(){return n((function(e){return--e}))},children:"\u2193"})]})})},y=a(29),C=a(43),I=a(96),L=a(90),k=a(70),T=["className"];var A=function(e){var t=e.className,a=Object(C.a)(e,T);return Object(p.jsxs)(I.a,Object(y.a)(Object(y.a)({className:"content-card ".concat(t)},a),{},{children:[Object(p.jsx)(I.a.Header,{children:"Indoor"}),Object(p.jsxs)(I.a.Body,{children:[Object(p.jsxs)(L.a,{children:[Object(p.jsx)(k.a,{children:"Temperature:"}),Object(p.jsxs)(k.a,{className:"bold",children:[71,"\xba"]})]}),Object(p.jsxs)(L.a,{children:[Object(p.jsx)(k.a,{children:"Humidity:"}),Object(p.jsxs)(k.a,{className:"bold",children:[40,"%"]})]})]})]}))},P=["className"];var U=function(e){var t=e.className,a=Object(C.a)(e,P);return Object(p.jsxs)(I.a,Object(y.a)(Object(y.a)({className:"content-card ".concat(t)},a),{},{children:[Object(p.jsx)(I.a.Header,{children:"Outdoor"}),Object(p.jsxs)(I.a.Body,{children:[Object(p.jsxs)(L.a,{children:[Object(p.jsx)(k.a,{children:"Temperature:"}),Object(p.jsxs)(k.a,{className:"bold",children:[43,"\xba"]})]}),Object(p.jsxs)(L.a,{children:[Object(p.jsx)(k.a,{children:"Humidity:"}),Object(p.jsxs)(k.a,{className:"bold",children:[60,"%"]})]})]})]}))};var E=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(S,{}),Object(p.jsx)(A,{className:"mt-3"}),Object(p.jsx)(U,{className:"mt-3"})]})};var _=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Schedule"}),Object(p.jsx)("p",{children:"This is the schedule page"})]})},B=a(91),G=function(){l.signOut()},H=a(93),R=a(95),D=a(92),q=["buttonText","showLoading","onClick"];var z,F=function(e){var t=e.buttonText,a=e.showLoading,c=e.onClick,n=Object(C.a)(e,q);return Object(p.jsx)(B.a,Object(y.a)(Object(y.a)({disabled:a,onClick:c},n),{},{children:a?Object(p.jsx)(D.a,{animation:"border",as:"span",size:"sm"}):t}))};!function(e){e.auth="auth",e.user="user"}(z||(z={}));var M=function(e){var t=K[e.code];return null!==t&&void 0!==t?t:e.message.replace("Firebase: ","").replace(" (".concat(e.code,")"),"")},K={"auth/email-already-exists":"An account already exists with this email.","auth/requires-recent-login":"Please sign out then sign back in to perform this action","auth/invalid-password":"This password is invalid.","auth/invalid-email":"Email address is invalid","auth/user-not-found":"Account does not exist for this email address","auth/wrong-password":"Incorrect password"};var V=function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),a=Object(c.useState)(!1),n=Object(b.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(!1),j=Object(b.a)(i,2),d=j[0],u=j[1],h=Object(c.useState)(),O=Object(b.a)(h,2),x=O[0],m=O[1],v=function(){var a,c,n=!!(null===(a=e.current)||void 0===a?void 0:a.value)&&!!(null===(c=t.current)||void 0===c?void 0:c.value);!n&&m(""),u(n)};return Object(p.jsxs)(H.a,{onSubmit:function(a){var c,n;a.preventDefault(),r(!0),m("");var s,i=null===(c=e.current)||void 0===c?void 0:c.value,j=null===(n=t.current)||void 0===n?void 0:n.value;i&&i===j?(s=i,l.currentUser?Object(o.e)(l.currentUser,s):Promise.reject()).then((function(){return a.target.reset()})).catch((function(e){(function(e){return e.code===o.a.CREDENTIAL_TOO_OLD_LOGIN_AGAIN})(e)&&console.log("SIGN IN AGAIN"),m(M(e))})).finally((function(){return r(!1)})):(m("Passwords do not match"),r(!1))},children:[Object(p.jsxs)(H.a.Group,{children:[Object(p.jsx)(H.a.Label,{children:"New Password"}),Object(p.jsx)(H.a.Control,{ref:e,type:"password",onChange:v,disabled:s,placeholder:"New Password"}),Object(p.jsx)(H.a.Control,{ref:t,type:"password",onChange:v,disabled:s,placeholder:"Confirm New Password",className:"mt-2"})]}),x&&Object(p.jsx)(R.a,{className:"mt-2 mb-0",variant:"danger",children:x}),Object(p.jsx)(F,{className:"mt-3 w-100",buttonText:"Change Password",showLoading:s,hidden:!d,type:"submit"})]})};var J=function(){var e=Object(c.useContext)(Y),t=e.user,a=e.updateUser,n=Object(c.useRef)(null),s=Object(c.useRef)(null),r=Object(c.useState)(0),i=Object(b.a)(r,2),j=i[0],d=i[1],u=Object(c.useState)(!1),h=Object(b.a)(u,2),O=h[0],x=h[1],m=Object(c.useState)(!1),v=Object(b.a)(m,2),f=v[0],g=v[1],N=Object(c.useState)(),w=Object(b.a)(N,2),S=w[0],y=w[1];Object(c.useEffect)((function(){return x(j>0)}),[j]);var C=function(){var e,a,c=(null===(e=n.current)||void 0===e?void 0:e.value)!==t.name||(null===(a=s.current)||void 0===a?void 0:a.value)!==t.email;!c&&y(""),g(c)};return Object(p.jsxs)(H.a,{onSubmit:function(e){var c,r;e.preventDefault(),y("");var i,j,u=null===(c=n.current)||void 0===c?void 0:c.value,b=null===(r=s.current)||void 0===r?void 0:r.value;if(u&&u!==t.name&&(d((function(e){return++e})),(i=u,l.currentUser?Object(o.f)(l.currentUser,{displayName:i}):Promise.reject()).then((function(){a()})).catch((function(e){y(M(e))})).finally((function(){return d((function(e){return--e}))}))),void 0!==b&&b!==t.email){if(d((function(e){return++e})),""===b)return y("You must provide a valid email"),void d((function(e){return--e}));(j=b,l.currentUser?Object(o.d)(l.currentUser,j):Promise.reject()).then((function(){a()})).catch((function(e){y(M(e))})).finally((function(){return d((function(e){return--e}))}))}},noValidate:!0,children:[Object(p.jsxs)(H.a.Group,{children:[Object(p.jsx)(H.a.Label,{children:"Name"}),Object(p.jsx)(H.a.Control,{ref:n,type:"text",defaultValue:t.name||"",placeholder:"Name",onChange:C,disabled:O})]}),Object(p.jsxs)(H.a.Group,{children:[Object(p.jsx)(H.a.Label,{children:"Email"}),Object(p.jsx)(H.a.Control,{ref:s,type:"email",defaultValue:t.email||"",placeholder:"Email",onChange:C,disabled:O}),Object(p.jsx)(H.a.Text,{children:"This email used for account sign in"})]}),S&&Object(p.jsx)(R.a,{className:"mt-2 mb-0",variant:"danger",children:S}),Object(p.jsx)(F,{className:"mt-3 w-100",buttonText:"Save Changes",showLoading:O,hidden:!f,type:"submit"})]})};var Y,Z=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Settings"}),Object(p.jsxs)(I.a,{className:"content-card",children:[Object(p.jsx)(I.a.Header,{children:"Account"}),Object(p.jsx)(I.a.Body,{children:Object(p.jsx)(J,{})})]}),Object(p.jsxs)(I.a,{className:"content-card mt-4",children:[Object(p.jsx)(I.a.Header,{children:"Change Password"}),Object(p.jsx)(I.a.Body,{children:Object(p.jsx)(V,{})})]}),Object(p.jsx)("hr",{className:"mt-5 mb-3"}),Object(p.jsx)(B.a,{variant:"secondary",className:"w-100",onClick:G,children:"Sign Out \xa0\u2192"}),Object(p.jsx)(B.a,{variant:"outline-secondary",className:"w-100 mt-2",onClick:function(){return location.reload()},children:"Reload App"})]})};var Q=function(e){var t=Object(c.useState)(e.user),a=Object(b.a)(t,2),s=a[0],r=a[1],i=function(){var e=u(l.currentUser);e&&r(e)};return Y=n.a.createContext({user:s,updateUser:i}),Object(p.jsx)(Y.Provider,{value:{user:s,updateUser:i},children:Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(g.HashRouter,{basename:"/",children:[Object(p.jsx)(f,{}),Object(p.jsx)(N.g,{children:Object(p.jsxs)(h.a,{className:"pb-5",children:[Object(p.jsx)(N.d,{exact:!0,path:v.dashboard,component:E}),Object(p.jsx)(N.d,{exact:!0,path:v.schedule,component:_}),Object(p.jsx)(N.d,{exact:!0,path:v.settings,component:Z}),Object(p.jsx)(N.d,{exact:!0,path:v.signIn,children:Object(p.jsx)(N.c,{to:v.dashboard})}),Object(p.jsx)(N.d,{exact:!0,path:"/",children:Object(p.jsx)(N.c,{to:v.dashboard})})]})})]})})})};a(87);function W(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),r=Object(b.a)(s,2),i=r[0],d=r[1],o=Object(c.useState)(),u=Object(b.a)(o,2),h=u[0],O=u[1],x=Object(c.useState)(!1),m=Object(b.a)(x,2),v=m[0],f=m[1];return Object(p.jsxs)(H.a,{onSubmit:function(e){e.preventDefault(),O(""),a&&i?(f(!0),function(e,t){return Object(j.b)(l,e,t).then((function(){return Promise.resolve()}))}(a,i).catch((function(e){O(M(e)),f(!1)}))):O("Please enter all required fields")},children:[Object(p.jsxs)(H.a.Group,{children:[Object(p.jsx)(H.a.Label,{children:"Username"}),Object(p.jsx)(H.a.Control,{type:"text",onChange:function(e){return n(e.target.value)}})]}),Object(p.jsxs)(H.a.Group,{children:[Object(p.jsx)(H.a.Label,{children:"Password"}),Object(p.jsx)(H.a.Control,{type:"password",onChange:function(e){return d(e.target.value)}})]}),h&&Object(p.jsx)(R.a,{variant:"secondary",className:"mt-3",children:h}),Object(p.jsx)(F,{type:"submit",className:"mt-3 w-100",buttonText:"Sign In",showLoading:v})]})}function X(){return Object(p.jsxs)(I.a,{className:"signin-card shadow mx-auto",children:[Object(p.jsx)(I.a.Header,{children:"Sign In"}),Object(p.jsx)(I.a.Body,{children:Object(p.jsx)(W,{})})]})}var $=function(){return Object(p.jsx)("div",{className:"app-unauthorized",children:Object(p.jsx)(h.a,{children:Object(p.jsx)(g.HashRouter,{basename:"/",children:Object(p.jsx)(N.g,{children:Object(p.jsxs)(h.a,{children:[Object(p.jsx)(N.d,{exact:!0,path:v.signIn,component:X}),Object(p.jsx)(N.c,{push:!0,to:v.signIn})]})})})})})};l.onAuthStateChanged((function(e){var t=u(e);t?r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(Q,{user:t})}),document.getElementById("root")):r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)($,{})}),document.getElementById("root"))}))}},[[88,1,2]]]);
//# sourceMappingURL=main.62b6ad41.chunk.js.map