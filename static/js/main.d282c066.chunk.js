(this["webpackJsonpsmart-thermostat-web"]=this["webpackJsonpsmart-thermostat-web"]||[]).push([[0],{56:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t),n.d(t,"UserContext",(function(){return z}));n(56);var c=n(1),a=n.n(c),r=n(35),s=n.n(r),i=n(64),o=n(51),j=Object(i.a)({apiKey:"AIzaSyAEqiutxiK9K41-zYltwLMIxNjMZvAq014",authDomain:"smart-thermostat-92710.firebaseapp.com",projectId:"smart-thermostat-92710",storageBucket:"smart-thermostat-92710.appspot.com",messagingSenderId:"31001839536",appId:"1:31001839536:web:a4c255c21db37087f37875"}),l=Object(o.a)(j),d=n(44),u=function(e){return e?{id:e.uid,name:e.displayName,email:e.email,phone:e.phoneNumber}:null},b=n(61),h=n(92),O=n(48),x=n(47),m=function(){l.signOut()},p={dashboard:"/dashboard",schedule:"/schedule",settings:"/settings",signIn:"/signin"},f=n(4);var g=function(){return Object(f.jsx)(O.a,{collapseOnSelect:!0,expand:"md",bg:"primary",variant:"dark",className:"mb-4",children:Object(f.jsxs)(b.a,{children:[Object(f.jsx)(x.LinkContainer,{to:p.dashboard,children:Object(f.jsx)(O.a.Brand,{href:p.dashboard,children:"Smart Thermostat"})}),Object(f.jsx)(O.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(f.jsxs)(O.a.Collapse,{id:"responsive-navbar-nav",children:[Object(f.jsxs)(h.a,{className:"me-auto",children:[Object(f.jsx)(x.LinkContainer,{to:p.dashboard,children:Object(f.jsx)(h.a.Link,{children:"Dashboard"})}),Object(f.jsx)(x.LinkContainer,{to:p.schedule,children:Object(f.jsx)(h.a.Link,{children:"Schedule"})}),Object(f.jsx)(x.LinkContainer,{to:p.settings,children:Object(f.jsx)(h.a.Link,{children:"Settings"})})]}),Object(f.jsx)(h.a,{children:Object(f.jsx)(h.a.Link,{onClick:m,children:"Sign Out"})})]})]})})},v=n(36),C=n(14);var S=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Dashboard"}),Object(f.jsx)("p",{children:"This is the dashboard page"})]})};var k=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Schedule"}),Object(f.jsx)("p",{children:"This is the schedule page"})]})},y=n(89),L=n(42),w=n(15),I=n(91),N=n(69),T=n(90),A=["buttonText","showLoading","onClick"];var P=function(e){var t=e.buttonText,n=e.showLoading,c=e.onClick,a=Object(N.a)(e,A);return Object(f.jsx)(y.a,Object(L.a)(Object(L.a)({disabled:n,onClick:c},a),{},{children:n?Object(f.jsx)(T.a,{animation:"border",as:"span",size:"sm"}):t}))};var F=function(){var e=Object(c.useState)(Object(c.useContext)(z)),t=Object(w.a)(e,2),n=t[0],a=t[1],r=Object(c.useRef)(null),s=Object(c.useRef)(null),i=Object(c.useState)(0),o=Object(w.a)(i,2),j=o[0],u=o[1],b=Object(c.useState)(!1),h=Object(w.a)(b,2),O=h[0],x=h[1],m=function(){var e,t;return x((null===(e=r.current)||void 0===e?void 0:e.value)!==n.name||(null===(t=s.current)||void 0===t?void 0:t.value)!==n.email)};return Object(f.jsxs)(I.a,{onSubmit:function(e){var t,n;e.preventDefault();var c,i,o=null===(t=r.current)||void 0===t?void 0:t.value,j=null===(n=s.current)||void 0===n?void 0:n.value;o&&(u((function(e){return++e})),(c=o,l.currentUser?Object(d.d)(l.currentUser,{displayName:c}):Promise.reject()).then((function(){return a((function(e){return e.name=o,Object(L.a)({},e)}))})).catch((function(e){return console.error(e)})).finally((function(){return u((function(e){return--e}))}))),j&&(u((function(e){return++e})),(i=j,l.currentUser?Object(d.c)(l.currentUser,i):Promise.reject()).then((function(){return a((function(e){return e.email=j,Object(L.a)({},e)}))})).catch((function(e){return console.error(e.message)})).finally((function(){return u((function(e){return--e}))})))},children:[Object(f.jsxs)(I.a.Group,{children:[Object(f.jsx)(I.a.Label,{children:"Name"}),Object(f.jsx)(I.a.Control,{ref:r,type:"text",defaultValue:n.name||"",onChange:m})]}),Object(f.jsxs)(I.a.Group,{children:[Object(f.jsx)(I.a.Label,{children:"Email"}),Object(f.jsx)(I.a.Control,{ref:s,type:"email",defaultValue:n.email||"",onChange:m}),Object(f.jsx)(I.a.Text,{children:"This email used for account sign in"})]}),Object(f.jsx)(P,{className:"mt-3 w-100",buttonText:"Save Changes",showLoading:j>0,disabled:!O,type:"submit"})]})};var U=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Settings"}),Object(f.jsx)("h3",{children:"Account"}),Object(f.jsx)(F,{}),Object(f.jsx)("hr",{className:"mt-5 mb-3"}),Object(f.jsx)(y.a,{variant:"dark",className:"w-100",onClick:function(){return location.reload()},children:"Reload App"})]})};var B=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(v.HashRouter,{basename:"/",children:[Object(f.jsx)(g,{}),Object(f.jsx)(C.g,{children:Object(f.jsxs)(b.a,{children:[Object(f.jsx)(C.d,{exact:!0,path:p.dashboard,component:S}),Object(f.jsx)(C.d,{exact:!0,path:p.schedule,component:k}),Object(f.jsx)(C.d,{exact:!0,path:p.settings,component:U}),Object(f.jsx)(C.d,{exact:!0,path:"/",children:Object(f.jsx)(C.c,{to:p.dashboard})})]})})]})})},D=(n(86),n(94)),E=n(93);function R(){var e=Object(c.useState)(""),t=Object(w.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(w.a)(r,2),i=s[0],j=s[1],d=Object(c.useState)(),u=Object(w.a)(d,2),b=u[0],h=u[1],O=Object(c.useState)(!1),x=Object(w.a)(O,2),m=x[0],p=x[1];return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(D.a,{className:"signin-card shadow mx-auto",children:[Object(f.jsx)(D.a.Header,{children:"Sign In"}),Object(f.jsx)(D.a.Body,{children:Object(f.jsxs)(I.a,{onSubmit:function(e){e.preventDefault(),h(""),n&&i?(p(!0),function(e,t){return Object(o.b)(l,e,t).then((function(){return Promise.resolve()})).catch((function(e){return console.log("Error Signing In"),console.log(e.code),console.log(e.message),Promise.reject()}))}(n,i).catch((function(){p(!1),h("Could not sign in")}))):h("Please enter all required fields")},children:[Object(f.jsxs)(I.a.Group,{children:[Object(f.jsx)(I.a.Label,{children:"Username"}),Object(f.jsx)(I.a.Control,{type:"text",onChange:function(e){return a(e.target.value)},isInvalid:!1}),Object(f.jsx)(I.a.Control.Feedback,{type:"invalid"})]}),Object(f.jsxs)(I.a.Group,{children:[Object(f.jsx)(I.a.Label,{children:"Password"}),Object(f.jsx)(I.a.Control,{type:"password",onChange:function(e){return j(e.target.value)},isInvalid:!1}),Object(f.jsx)(I.a.Control.Feedback,{type:"invalid"})]}),b&&Object(f.jsx)(E.a,{variant:"secondary",className:"mt-3",children:b}),Object(f.jsx)(P,{type:"submit",className:"mt-3 w-100",buttonText:"Sign In",showLoading:m})]})})]})})}var z,G=function(){return Object(f.jsx)("div",{className:"app-unauthorized",children:Object(f.jsx)(b.a,{children:Object(f.jsx)(v.HashRouter,{basename:"/",children:Object(f.jsx)(C.g,{children:Object(f.jsxs)(b.a,{children:[Object(f.jsx)(C.d,{exact:!0,path:p.signIn,component:R}),Object(f.jsx)(C.c,{push:!0,to:p.signIn})]})})})})})};l.onAuthStateChanged((function(e){var t=u(e);z=a.a.createContext(t),t?s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(z.Provider,{value:t,children:Object(f.jsx)(B,{})})}),document.getElementById("root")):s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(G,{})}),document.getElementById("root"))}))}},[[87,1,2]]]);
//# sourceMappingURL=main.d282c066.chunk.js.map