(this["webpackJsonpsmart-thermostat-web"]=this["webpackJsonpsmart-thermostat-web"]||[]).push([[0],{55:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);n(55);var a=n(1),c=n.n(a),r=n(35),s=n.n(r),i=n(64),o=n(50),j=Object(i.a)({apiKey:"AIzaSyAEqiutxiK9K41-zYltwLMIxNjMZvAq014",authDomain:"smart-thermostat-92710.firebaseapp.com",projectId:"smart-thermostat-92710",storageBucket:"smart-thermostat-92710.appspot.com",messagingSenderId:"31001839536",appId:"1:31001839536:web:a4c255c21db37087f37875"}),d=Object(o.a)(j),l=n(43),u=function(e){return e?{id:e.uid,name:e.displayName,email:e.email,phone:e.phoneNumber}:null},b=n(15),h=n(60),O=n(92),x=n(47),m=n(46),p={dashboard:"/dashboard",schedule:"/schedule",settings:"/settings",signIn:"/signin"},v=n(4);var f=function(){return Object(v.jsx)(x.a,{collapseOnSelect:!0,expand:"md",bg:"primary",variant:"dark",className:"mb-4",children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(m.LinkContainer,{to:p.dashboard,children:Object(v.jsx)(x.a.Brand,{href:p.dashboard,children:"Smart Thermostat"})}),Object(v.jsx)(x.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(v.jsx)(x.a.Collapse,{id:"responsive-navbar-nav",children:Object(v.jsxs)(O.a,{className:"me-auto",children:[Object(v.jsx)(m.LinkContainer,{to:p.dashboard,children:Object(v.jsx)(O.a.Link,{children:"Dashboard"})}),Object(v.jsx)(m.LinkContainer,{to:p.schedule,children:Object(v.jsx)(O.a.Link,{children:"Schedule"})}),Object(v.jsx)(m.LinkContainer,{to:p.settings,children:Object(v.jsx)(O.a.Link,{children:"Settings"})})]})})]})})},g=n(36),S=n(14);var C=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"Dashboard"}),Object(v.jsx)("p",{children:"This is the dashboard page"})]})};var k=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"Schedule"}),Object(v.jsx)("p",{children:"This is the schedule page"})]})},y=n(89),w=function(){d.signOut()},I=n(91),L=n(61),N=n(69),T=n(90),U=["buttonText","showLoading","onClick"];var A=function(e){var t=e.buttonText,n=e.showLoading,a=e.onClick,c=Object(N.a)(e,U);return Object(v.jsx)(y.a,Object(L.a)(Object(L.a)({disabled:n,onClick:a},c),{},{children:n?Object(v.jsx)(T.a,{animation:"border",as:"span",size:"sm"}):t}))};var P=function(){var e=Object(a.useContext)(E),t=e.user,n=e.updateUser,c=Object(a.useRef)(null),r=Object(a.useRef)(null),s=Object(a.useState)(0),i=Object(b.a)(s,2),o=i[0],j=i[1],u=Object(a.useState)(!1),h=Object(b.a)(u,2),O=h[0],x=h[1],m=Object(a.useState)(!1),p=Object(b.a)(m,2),f=p[0],g=p[1];Object(a.useEffect)((function(){return x(o>0)}),[o]);var S=function(){var e,n;return g((null===(e=c.current)||void 0===e?void 0:e.value)!==t.name||(null===(n=r.current)||void 0===n?void 0:n.value)!==t.email)};return Object(v.jsxs)(I.a,{onSubmit:function(e){var t,a;e.preventDefault();var s,i,o=null===(t=c.current)||void 0===t?void 0:t.value,u=null===(a=r.current)||void 0===a?void 0:a.value;o&&(j((function(e){return++e})),(s=o,d.currentUser?Object(l.d)(d.currentUser,{displayName:s}):Promise.reject()).then((function(){return n()})).catch((function(e){return console.error(e)})).finally((function(){return j((function(e){return--e}))}))),u&&(j((function(e){return++e})),(i=u,d.currentUser?Object(l.c)(d.currentUser,i):Promise.reject()).then((function(){return n()})).catch((function(e){return console.error(e.message)})).finally((function(){return j((function(e){return--e}))})))},children:[Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a.Label,{children:"Name"}),Object(v.jsx)(I.a.Control,{ref:c,type:"text",defaultValue:t.name||"",onChange:S,disabled:O})]}),Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a.Label,{children:"Email"}),Object(v.jsx)(I.a.Control,{ref:r,type:"email",defaultValue:t.email||"",onChange:S,disabled:O}),Object(v.jsx)(I.a.Text,{children:"This email used for account sign in"})]}),Object(v.jsx)(A,{className:"mt-3 w-100",buttonText:"Save Changes",showLoading:O,disabled:!f,type:"submit"})]})};var E,F=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"Settings"}),Object(v.jsx)("h3",{children:"Account"}),Object(v.jsx)(P,{}),Object(v.jsx)("hr",{className:"mt-5 mb-3"}),Object(v.jsx)(y.a,{variant:"dark",className:"w-100",onClick:w,children:"Sign Out \xa0\u2192"}),Object(v.jsx)(y.a,{variant:"outline-dark",className:"w-100 mt-2",onClick:function(){return location.reload()},children:"Reload App"})]})};var B=function(e){var t=Object(a.useState)(e.user),n=Object(b.a)(t,2),r=n[0],s=n[1],i=function(){var e=u(d.currentUser);e&&s(e)};return E=c.a.createContext({user:r,updateUser:i}),Object(v.jsx)(E.Provider,{value:{user:r,updateUser:i},children:Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)(g.HashRouter,{basename:"/",children:[Object(v.jsx)(f,{}),Object(v.jsx)(S.g,{children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(S.d,{exact:!0,path:p.dashboard,component:C}),Object(v.jsx)(S.d,{exact:!0,path:p.schedule,component:k}),Object(v.jsx)(S.d,{exact:!0,path:p.settings,component:F}),Object(v.jsx)(S.d,{exact:!0,path:p.signIn,children:Object(v.jsx)(S.c,{to:p.dashboard})}),Object(v.jsx)(S.d,{exact:!0,path:"/",children:Object(v.jsx)(S.c,{to:p.dashboard})})]})})]})})})},D=(n(86),n(94)),R=n(93);function z(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(b.a)(r,2),i=s[0],j=s[1],l=Object(a.useState)(),u=Object(b.a)(l,2),h=u[0],O=u[1],x=Object(a.useState)(!1),m=Object(b.a)(x,2),p=m[0],f=m[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(D.a,{className:"signin-card shadow mx-auto",children:[Object(v.jsx)(D.a.Header,{children:"Sign In"}),Object(v.jsx)(D.a.Body,{children:Object(v.jsxs)(I.a,{onSubmit:function(e){e.preventDefault(),O(""),n&&i?(f(!0),function(e,t){return Object(o.b)(d,e,t).then((function(){return Promise.resolve()})).catch((function(e){return console.log("Error Signing In"),console.log(e.code),console.log(e.message),Promise.reject()}))}(n,i).catch((function(){f(!1),O("Could not sign in")}))):O("Please enter all required fields")},children:[Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a.Label,{children:"Username"}),Object(v.jsx)(I.a.Control,{type:"text",onChange:function(e){return c(e.target.value)},isInvalid:!1}),Object(v.jsx)(I.a.Control.Feedback,{type:"invalid"})]}),Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a.Label,{children:"Password"}),Object(v.jsx)(I.a.Control,{type:"password",onChange:function(e){return j(e.target.value)},isInvalid:!1}),Object(v.jsx)(I.a.Control.Feedback,{type:"invalid"})]}),h&&Object(v.jsx)(R.a,{variant:"secondary",className:"mt-3",children:h}),Object(v.jsx)(A,{type:"submit",className:"mt-3 w-100",buttonText:"Sign In",showLoading:p})]})})]})})}var G=function(){return Object(v.jsx)("div",{className:"app-unauthorized",children:Object(v.jsx)(h.a,{children:Object(v.jsx)(g.HashRouter,{basename:"/",children:Object(v.jsx)(S.g,{children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(S.d,{exact:!0,path:p.signIn,component:z}),Object(v.jsx)(S.c,{push:!0,to:p.signIn})]})})})})})};d.onAuthStateChanged((function(e){var t=u(e);t?s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(B,{user:t})}),document.getElementById("root")):s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(G,{})}),document.getElementById("root"))}))}},[[87,1,2]]]);
//# sourceMappingURL=main.ec81d081.chunk.js.map